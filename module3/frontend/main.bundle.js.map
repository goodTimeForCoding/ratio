{"version":3,"file":"main.bundle.js","mappings":"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","sources":["webpack://2048/./js/util.js","webpack://2048/./js/timer.js","webpack://2048/./js/fetch.js","webpack://2048/./js/players.js","webpack://2048/./js/board.js"],"sourcesContent":["const equalArrays = (a, b) => {\n  if (a.length != b.length) return false;\n  for (var i = 0; i < a.length; i++)\n    if (a[i] !== b[i]) return false;\n  return true;\n}\n\nexport {equalArrays}","let base = 60;\nlet clocktimer, dateObj, dh, dm, ds;\nlet readout = '';\nlet h = 1,\n  m = 1,\n  tm = 1,\n  s = 0,\n  ts = 0,\n  ms = 0,\n  init = 0;\n\n\nconst ClearСlock = () => {\n  clearTimeout(clocktimer);\n  h = 1;\n  m = 1;\n  tm = 1;\n  s = 0;\n  ts = 0;\n  ms = 0;\n  init = 0;\n  readout = '00:00:00.00';\n  document.userData.stopwatch.value = readout;\n}\n\n\nconst StartTIME = () => {\n  let cdateObj = new Date();\n  let t = (cdateObj.getTime() - dateObj.getTime()) - (s * 1000);\n  if (t > 999) {\n    s++;\n  }\n  if (s >= (m * base)) {\n    ts = 0;\n    m++;\n  } else {\n    ts = parseInt((ms / 100) + s);\n    if (ts >= base) {\n      ts = ts - ((m - 1) * base);\n    }\n  }\n  if (m > (h * base)) {\n    tm = 1;\n    h++;\n  } else {\n    tm = parseInt((ms / 100) + m);\n    if (tm >= base) {\n      tm = tm - ((h - 1) * base);\n    }\n  }\n  ms = Math.round(t / 10);\n  if (ms > 99) {\n    ms = 0;\n  }\n  if (ms == 0) {\n    ms = '00';\n  }\n  if (ms > 0 && ms <= 9) {\n    ms = '0' + ms;\n  }\n  if (ts > 0) {\n    ds = ts;\n    if (ts < 10) {\n      ds = '0' + ts;\n    }\n  } else {\n    ds = '00';\n  }\n  dm = tm - 1;\n  if (dm > 0) {\n    if (dm < 10) {\n      dm = '0' + dm;\n    }\n  } else {\n    dm = '00';\n  }\n  dh = h - 1;\n  if (dh > 0) {\n    if (dh < 10) {\n      dh = '0' + dh;\n    }\n  } else {\n    dh = '00';\n  }\n  readout = dh + ':' + dm + ':' + ds + '.' + ms;\n  document.userData.stopwatch.value = readout;\n  clocktimer = setTimeout(() => StartTIME(), 1);\n}\n\n\nconst StartStop = () => {\n  if (init == 0) {\n    ClearСlock();\n    dateObj = new Date();\n    StartTIME();\n    init = 1;\n  } else {\n    clearTimeout(clocktimer);\n    init = 0;\n  }\n}\n\nconst Start = () => {\n  ClearСlock();\n  dateObj = new Date();\n  StartTIME();\n  init = 1;\n}\n\nexport {StartStop, Start}","const getData = (addData) => {\n  fetch('http://localhost:3004/api/v1/record/')\n    .then((response) => response.json())\n    .then((data) => {\n      addData(data);\n    })\n    .catch(() => {\n      alert('Не удалось загрузить данные');\n    })\n}\n\nconst setPlayer = (user, time, reloadData) => {\n  const data = {\n    name: user,\n    time: time\n  }\n\n  fetch(\n    'http://localhost:3004/api/v1/record/',\n    {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      },\n    },\n  )\n    .then((response) => {\n      if (response.ok) {\n        getData(reloadData)\n      } else {\n        alert(\"Ошибка HTTP: \" + response.status);\n      }\n    })\n    .catch(() => {\n      alert('Не удалось отправить данные');\n    });\n};\n\nexport {getData, setPlayer}\n","const playerTemp = document.querySelector('#player').content.querySelector('.result');\r\nconst playersContainer = document.querySelector('.results');\r\n\r\nconst addPlayer = (datum) => {\r\n  const playerItem = playerTemp.cloneNode(true);\r\n  playerItem.querySelector('.player').textContent = datum.name;\r\n  playerItem.querySelector('.time').textContent = datum.time;\r\n  return playerItem;\r\n}\r\n\r\nconst addPlayers = (items) => {\r\n  while (playersContainer.firstChild) {\r\n    playersContainer.removeChild(playersContainer.firstChild);\r\n  }\r\n  const fragment = document.createDocumentFragment();\r\n  for (let i = 0; i < items.length; i++) {\r\n    const playerItem = addPlayer(items[i]);\r\n    fragment.appendChild(playerItem);\r\n  }\r\n  playersContainer.appendChild(fragment);\r\n}\r\n\r\n\r\nexport {addPlayers};","import {equalArrays} from './util.js';\nimport {StartStop, Start} from './timer.js';\nimport {getData, setPlayer} from './fetch';\nimport {addPlayers} from './players';\n\nlet startGameBtn = document.querySelector('#start-game');\nlet playerName = document.querySelector('#player-name');\nlet gridDisplay = document.querySelector('.grid');\nlet scoreDispaly = document.querySelector('.score');\nlet resultDisplay = document.querySelector('.status');\n\nlet width = 5;\nlet squares = [];\nlet score;\nlet isChange;\nlet endMouseX;\nlet endMouseY;\nlet mouseX;\nlet mouseY;\nlet startX;\nlet startY;\n\nconst startGame = () => {\n  if (playerName.checkValidity()) {\n    document.userData.stopwatch.value = '00:00:00.00';\n    score = 0;\n    scoreDispaly.innerHTML = 0;\n    createBoard();\n    Start();\n    startGameBtn.textContent = `Начать заново`;\n  } else {\n    alert('Введите имя!');\n  }\n}\n\nconst createBoard = () => {\n  resultDisplay.innerHTML = null;\n  gridDisplay.innerHTML = null;\n  gridDisplay.style = 'opacity: 1';\n  squares.splice(0, width * width);\n  for (let i = 0; i < width * width; i++) {\n    let square = document.createElement('div');\n    square.innerHTML = 0;\n    gridDisplay.appendChild(square);\n    squares.push(square);\n  }\n  generate();\n  generate();\n  gridDisplay.addEventListener('mousedown', mouseDown);\n  document.addEventListener('keydown', keyControl);\n  gridDisplay.addEventListener('touchstart', startTouchControl);\n  gridDisplay.addEventListener('touchend', endTouchControl);\n  gridDisplay.addEventListener('mouseup', mouseUp);\n}\n\nconst generateNum = () => {\n  let number = Math.random();\n  if (number >= 0.9) {\n    return 4;\n  } else {\n    return 2;\n  }\n}\n\nconst draw = () => {\n  for (let i = 0; i < width * width; i++) {\n    squares[i].removeAttribute('class');\n    if (squares[i].textContent !== '0') {\n      squares[i].classList.add('x' + squares[i].textContent);\n    }\n  }\n}\n\nconst generate = () => {\n  let randomSquare = Math.floor(Math.random() * squares.length);\n  if (squares[randomSquare].innerHTML == 0) {\n    squares[randomSquare].innerHTML = generateNum();\n  } else {\n    generate();\n  }\n  draw();\n}\n\nconst moveRight = () => {\n  for (let i = 0; i < 25; i++) {\n    if (i % 5 === 0) {\n      let totalOne = squares[i].innerHTML;\n      let totalTwo = squares[i + 1].innerHTML;\n      let totalThree = squares[i + 2].innerHTML;\n      let totalFour = squares[i + 3].innerHTML;\n      let totalFive = squares[i + 4].innerHTML;\n      let row = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour), parseInt(totalFive)];\n      let filteredRow = row.filter(num => num);\n      let missing = 5 - filteredRow.length;\n      let zeros = Array(missing).fill(0);\n      let newRow = zeros.concat(filteredRow);\n      if (!(equalArrays(row, newRow))) {\n        isChange = true;\n        squares[i].innerHTML = newRow[0];\n        squares[i + 1].innerHTML = newRow[1];\n        squares[i + 2].innerHTML = newRow[2];\n        squares[i + 3].innerHTML = newRow[3];\n        squares[i + 4].innerHTML = newRow[4];\n      }\n    }\n  }\n}\n\nconst moveLeft = () => {\n  for (let i = 0; i < 25; i++) {\n    if (i % 5 === 0) {\n      let totalOne = squares[i].innerHTML;\n      let totalTwo = squares[i + 1].innerHTML;\n      let totalThree = squares[i + 2].innerHTML;\n      let totalFour = squares[i + 3].innerHTML;\n      let totalFive = squares[i + 4].innerHTML;\n      let row = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour), parseInt(totalFive)];\n      let filteredRow = row.filter(num => num);\n      let missing = 5 - filteredRow.length;\n      let zeros = Array(missing).fill(0);\n      let newRow = filteredRow.concat(zeros);\n      if (!(equalArrays(row, newRow))) {\n        isChange = true;\n        squares[i].innerHTML = newRow[0];\n        squares[i + 1].innerHTML = newRow[1];\n        squares[i + 2].innerHTML = newRow[2];\n        squares[i + 3].innerHTML = newRow[3];\n        squares[i + 4].innerHTML = newRow[4];\n      }\n    }\n  }\n}\n\nconst moveDown = () => {\n  for (let i = 0; i < 5; i++) {\n    let totalOne = squares[i].innerHTML;\n    let totalTwo = squares[i + width].innerHTML;\n    let totalThree = squares[i + (width * 2)].innerHTML;\n    let totalFour = squares[i + (width * 3)].innerHTML;\n    let totalFive = squares[i + (width * 4)].innerHTML;\n    let column = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour), parseInt(totalFive)];\n    let filteredColumn = column.filter(num => num);\n    let missing = 5 - filteredColumn.length;\n    let zeros = Array(missing).fill(0);\n    let newColumn = zeros.concat(filteredColumn);\n    if (!(equalArrays(column, newColumn))) {\n      isChange = true;\n      squares[i].innerHTML = newColumn[0];\n      squares[i + width].innerHTML = newColumn[1];\n      squares[i + (width * 2)].innerHTML = newColumn[2];\n      squares[i + (width * 3)].innerHTML = newColumn[3];\n      squares[i + (width * 4)].innerHTML = newColumn[4];\n    }\n  }\n}\n\nconst moveUp = () => {\n  for (let i = 0; i < 5; i++) {\n    let totalOne = squares[i].innerHTML;\n    let totalTwo = squares[i + width].innerHTML;\n    let totalThree = squares[i + (width * 2)].innerHTML;\n    let totalFour = squares[i + (width * 3)].innerHTML;\n    let totalFive = squares[i + (width * 4)].innerHTML;\n    let column = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour), parseInt(totalFive)];\n    let filteredColumn = column.filter(num => num);\n    let missing = 5 - filteredColumn.length;\n    let zeros = Array(missing).fill(0);\n    let newColumn = filteredColumn.concat(zeros);\n    if (!(equalArrays(column, newColumn))) {\n      isChange = true;\n      squares[i].innerHTML = newColumn[0];\n      squares[i + width].innerHTML = newColumn[1];\n      squares[i + (width * 2)].innerHTML = newColumn[2];\n      squares[i + (width * 3)].innerHTML = newColumn[3];\n      squares[i + (width * 4)].innerHTML = newColumn[4];\n    }\n  }\n}\n\nconst combineRowLeft = () => {\n  for (let i = 0; i < 24; i++) {\n    if (squares[i].innerHTML === squares[i + 1].innerHTML && squares[i].innerHTML != 0 && squares[i + 1].innerHTML != 0) {\n      let combinedTotal = parseInt(squares[i].innerHTML) + parseInt(squares[i + 1].innerHTML);\n      squares[i].innerHTML = combinedTotal;\n      squares[i + 1].innerHTML = 0;\n      score += combinedTotal;\n      scoreDispaly.innerHTML = score;\n      isChange = true;\n    }\n  }\n  checkForWin()\n}\n\nconst combineRowRight = () => {\n  for (let i = 24; i > 0; i--) {\n    if (squares[i].innerHTML === squares[i - 1].innerHTML && squares[i].innerHTML != 0 && squares[i - 1].innerHTML != 0) {\n      let combinedTotal = parseInt(squares[i].innerHTML) + parseInt(squares[i - 1].innerHTML);\n      squares[i].innerHTML = combinedTotal;\n      squares[i - 1].innerHTML = 0;\n      score += combinedTotal;\n      scoreDispaly.innerHTML = score;\n      isChange = true;\n    }\n  }\n  checkForWin();\n}\n\nconst combineColumnUp = () => {\n  for (let i = 0; i < 20; i++) {\n    if (squares[i].innerHTML === squares[i + width].innerHTML && squares[i].innerHTML != 0 && squares[i + width].innerHTML != 0) {\n      let combinedTotal = parseInt(squares[i].innerHTML) + parseInt(squares[i + width].innerHTML);\n      squares[i].innerHTML = combinedTotal;\n      squares[i + width].innerHTML = 0;\n      score += combinedTotal;\n      scoreDispaly.innerHTML = score;\n      isChange = true;\n    }\n  }\n  checkForWin();\n}\n\nconst combineColumnDown = () => {\n  for (let i = 24; i > 4; i--) {\n    if (squares[i].innerHTML === squares[i - width].innerHTML && squares[i].innerHTML != 0 && squares[i - width].innerHTML != 0) {\n      let combinedTotal = parseInt(squares[i].innerHTML) + parseInt(squares[i - width].innerHTML);\n      squares[i].innerHTML = combinedTotal;\n      squares[i - width].innerHTML = 0;\n      score += combinedTotal;\n      scoreDispaly.innerHTML = score;\n      isChange = true;\n    }\n  }\n  checkForWin();\n}\n\nconst keyControl = (evt) => {\n  if (evt.keyCode === 39) {\n    evt.preventDefault();\n    keyRight();\n  } else if (evt.keyCode === 37) {\n    evt.preventDefault();\n    keyLeft();\n  } else if (evt.keyCode === 38) {\n    evt.preventDefault();\n    keyUp();\n  } else if (evt.keyCode === 40) {\n    evt.preventDefault();\n    keyDown();\n  }\n}\n\nconst checkForWin = () => {\n  for (let i = 0; i < squares.length; i++) {\n    if (squares[i].innerHTML == 2048) {\n      let playerValue = playerName.value;\n      let timeValue = document.userData.stopwatch.value;\n      StartStop();\n      setPlayer(playerValue, timeValue, addPlayers);\n      resultDisplay.innerHTML = 'Ты выиграл!';\n      gridDisplay.style = 'opacity: 0.5'\n      startGameBtn.addEventListener('click', startGame);\n      gridDisplay.removeEventListener('mousedown', mouseDown);\n      document.removeEventListener('keydown', keyControl);\n      gridDisplay.removeEventListener('touchstart', startTouchControl);\n      gridDisplay.removeEventListener('touchend', endTouchControl);\n      gridDisplay.removeEventListener('mouseup', mouseUp);\n    }\n  }\n}\n\nconst checkForGameOver = () => {\n  let zeros = 0;\n  for (let i = 0; i < squares.length; i++) {\n    if (squares[i].innerHTML == 0) {\n      zeros++;\n    }\n  }\n\n  for (let i = 0; i < (squares.length - 1); i++) {\n    if (squares[i].innerHTML === squares[i + 1].innerHTML) {\n      zeros++;\n    }\n  }\n\n  for (let i = 0; i < 20; i++) {\n    if (squares[i].innerHTML === squares[i + width].innerHTML) {\n      zeros++;\n    }\n  }\n  if (zeros === 0) {\n    StartStop();\n    resultDisplay.innerHTML = 'Ты проиграл!';\n    gridDisplay.style = 'opacity: 0.5';\n    startGameBtn.addEventListener('click', startGame);\n    gridDisplay.removeEventListener('mousedown', mouseDown);\n    document.removeEventListener('keydown', keyControl);\n    gridDisplay.removeEventListener('touchstart', startTouchControl);\n    gridDisplay.removeEventListener('touchend', endTouchControl);\n    gridDisplay.removeEventListener('mouseup', mouseUp);\n  }\n}\n\nconst keyRight = () => {\n  isChange = false;\n  moveRight();\n  combineRowRight();\n  if (isChange) {\n    generate();\n  }\n  moveRight();\n  draw();\n  checkForGameOver();\n}\n\nconst keyLeft = () => {\n  isChange = false;\n  moveLeft();\n  combineRowLeft();\n  if (isChange) {\n    generate();\n  }\n  moveLeft();\n  draw();\n  checkForGameOver();\n}\n\nconst keyDown = () => {\n  isChange = false;\n  moveDown();\n  combineColumnDown();\n  if (isChange) {\n    generate();\n  }\n  moveDown();\n  draw();\n  checkForGameOver();\n}\n\nconst keyUp = () => {\n  isChange = false;\n  moveUp();\n  combineColumnUp();\n  if (isChange) {\n    generate();\n  }\n  moveUp();\n  draw();\n  checkForGameOver();\n}\n\nconst mouseDown = (evt) => {\n  mouseX = evt.pageX;\n  mouseY = evt.pageY;\n  if (evt.which == 1) {\n    addMouseMove();\n  }\n}\n\nconst addMouseMove = () => {\n  gridDisplay.addEventListener('mousemove', evt => {\n    evt.preventDefault();\n    endMouseX = evt.pageX;\n    endMouseY = evt.pageY;\n  });\n}\n\nconst removeMouseMove = () => {\n  endMouseX = 0;\n  endMouseY = 0;\n  gridDisplay.removeEventListener('mousemove', evt => {\n    evt.preventDefault();\n    endMouseX = evt.pageX;\n    endMouseY = evt.pageY;\n  });\n}\n\nconst mouseUp = (evt) => {\n  if (evt.which == 1) {\n    evt.preventDefault();\n    let x = endMouseX - mouseX;\n    let y = endMouseY - mouseY;\n    let absX = Math.abs(x) > Math.abs(y);\n    let absY = Math.abs(y) > Math.abs(x);\n\n    if (x > 0 && absX) {\n      keyRight();\n    }\n    else if (x < 0 && absX) {\n      keyLeft();\n    }\n    else if (y > 0 && absY) {\n      keyDown();\n    }\n    else if (y < 0 && absY) {\n      keyUp();\n    }\n    removeMouseMove();\n  }\n}\n\nconst startTouchControl = (evt) => {\n  if (evt.cancelable) {\n    evt.preventDefault();\n    startX = evt.touches[0].pageX;\n    startY = evt.touches[0].pageY;\n  }\n}\n\nconst endTouchControl = (evt) => {\n  if (evt.cancelable) {\n    evt.preventDefault();\n    let endX = evt.changedTouches[0].pageX;\n    let endY = evt.changedTouches[0].pageY;\n    let x = endX - startX;\n    let y = endY - startY;\n    let absX = Math.abs(x) > Math.abs(y);\n    let absY = Math.abs(y) > Math.abs(x);\n    if (x > 0 && absX) {\n      keyRight();\n    }\n    else if (x < 0 && absX) {\n      keyLeft();\n    }\n    else if (y > 0 && absY) {\n      keyDown();\n    }\n    else if (y < 0 && absY) {\n      keyUp();\n    }\n  }\n}\n\ngetData(addPlayers);\nstartGameBtn.addEventListener('click', startGame);"],"names":["equalArrays","a","b","length","i","clocktimer","dateObj","dh","dm","ds","base","readout","h","m","tm","s","ts","ms","init","clearTimeout","document","userData","stopwatch","value","StartTIME","t","Date","getTime","parseInt","Math","round","setTimeout","StartStop","getData","addData","fetch","then","response","json","data","catch","alert","setPlayer","user","time","reloadData","name","method","body","JSON","stringify","headers","ok","status","playerTemp","querySelector","content","playersContainer","addPlayer","datum","playerItem","cloneNode","textContent","addPlayers","items","firstChild","removeChild","fragment","createDocumentFragment","appendChild","score","isChange","endMouseX","endMouseY","mouseX","mouseY","startX","startY","startGameBtn","playerName","gridDisplay","scoreDispaly","resultDisplay","squares","startGame","checkValidity","innerHTML","createBoard","style","splice","width","square","createElement","push","generate","addEventListener","mouseDown","keyControl","startTouchControl","endTouchControl","mouseUp","draw","removeAttribute","classList","add","randomSquare","floor","random","moveRight","totalOne","totalTwo","totalThree","totalFour","totalFive","row","filteredRow","filter","num","missing","newRow","Array","fill","concat","moveLeft","zeros","moveDown","column","filteredColumn","newColumn","moveUp","evt","keyCode","preventDefault","keyRight","keyLeft","keyUp","keyDown","checkForWin","playerValue","timeValue","removeEventListener","checkForGameOver","combinedTotal","combineRowRight","combineRowLeft","combineColumnDown","combineColumnUp","pageX","pageY","which","addMouseMove","x","y","absX","abs","absY","cancelable","touches","endX","changedTouches","endY"],"sourceRoot":""}